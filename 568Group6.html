<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_98fv1hj56za-3{list-style-type:none}ul.lst-kix_98fv1hj56za-4{list-style-type:none}ul.lst-kix_98fv1hj56za-1{list-style-type:none}.lst-kix_xzuz3l6f7udk-0>li:before{content:"\0025cf  "}ul.lst-kix_98fv1hj56za-2{list-style-type:none}ul.lst-kix_98fv1hj56za-0{list-style-type:none}.lst-kix_98fv1hj56za-7>li:before{content:"\0025cb  "}.lst-kix_98fv1hj56za-8>li:before{content:"\0025a0  "}.lst-kix_xzuz3l6f7udk-3>li:before{content:"\0025cf  "}.lst-kix_98fv1hj56za-5>li:before{content:"\0025a0  "}.lst-kix_98fv1hj56za-6>li:before{content:"\0025cf  "}.lst-kix_xzuz3l6f7udk-2>li:before{content:"\0025a0  "}.lst-kix_li672u8kdi5h-3>li:before{content:"\0025cf  "}ul.lst-kix_98fv1hj56za-7{list-style-type:none}ul.lst-kix_98fv1hj56za-8{list-style-type:none}ul.lst-kix_98fv1hj56za-5{list-style-type:none}.lst-kix_xzuz3l6f7udk-1>li:before{content:"\0025cb  "}.lst-kix_li672u8kdi5h-2>li:before{content:"\0025a0  "}ul.lst-kix_98fv1hj56za-6{list-style-type:none}.lst-kix_xzuz3l6f7udk-6>li:before{content:"\0025cf  "}.lst-kix_xzuz3l6f7udk-8>li:before{content:"\0025a0  "}.lst-kix_li672u8kdi5h-1>li:before{content:"\0025cb  "}.lst-kix_xzuz3l6f7udk-7>li:before{content:"\0025cb  "}.lst-kix_li672u8kdi5h-0>li:before{content:"\0025cf  "}ul.lst-kix_ub52na38npk5-7{list-style-type:none}ul.lst-kix_ub52na38npk5-8{list-style-type:none}.lst-kix_xzuz3l6f7udk-4>li:before{content:"\0025cb  "}ul.lst-kix_ub52na38npk5-5{list-style-type:none}ul.lst-kix_ub52na38npk5-6{list-style-type:none}ul.lst-kix_ub52na38npk5-3{list-style-type:none}ul.lst-kix_ub52na38npk5-4{list-style-type:none}.lst-kix_xzuz3l6f7udk-5>li:before{content:"\0025a0  "}ul.lst-kix_ub52na38npk5-1{list-style-type:none}ul.lst-kix_ub52na38npk5-2{list-style-type:none}ul.lst-kix_ub52na38npk5-0{list-style-type:none}.lst-kix_ub52na38npk5-2>li:before{content:"\0025a0  "}.lst-kix_ub52na38npk5-3>li:before{content:"\0025cf  "}.lst-kix_ub52na38npk5-4>li:before{content:"\0025cb  "}.lst-kix_ub52na38npk5-5>li:before{content:"\0025a0  "}.lst-kix_ub52na38npk5-6>li:before{content:"\0025cf  "}.lst-kix_ub52na38npk5-8>li:before{content:"\0025a0  "}.lst-kix_ub52na38npk5-7>li:before{content:"\0025cb  "}ul.lst-kix_li672u8kdi5h-0{list-style-type:none}.lst-kix_98fv1hj56za-1>li:before{content:"\0025cb  "}.lst-kix_98fv1hj56za-2>li:before{content:"\0025a0  "}ul.lst-kix_li672u8kdi5h-4{list-style-type:none}ul.lst-kix_li672u8kdi5h-3{list-style-type:none}.lst-kix_98fv1hj56za-0>li:before{content:"\0025cf  "}.lst-kix_98fv1hj56za-3>li:before{content:"\0025cf  "}.lst-kix_98fv1hj56za-4>li:before{content:"\0025cb  "}ul.lst-kix_li672u8kdi5h-2{list-style-type:none}ul.lst-kix_li672u8kdi5h-1{list-style-type:none}.lst-kix_li672u8kdi5h-4>li:before{content:"\0025cb  "}.lst-kix_li672u8kdi5h-5>li:before{content:"\0025a0  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_li672u8kdi5h-6>li:before{content:"\0025cf  "}ul.lst-kix_xzuz3l6f7udk-7{list-style-type:none}ul.lst-kix_xzuz3l6f7udk-6{list-style-type:none}ul.lst-kix_xzuz3l6f7udk-5{list-style-type:none}ul.lst-kix_xzuz3l6f7udk-4{list-style-type:none}.lst-kix_li672u8kdi5h-7>li:before{content:"\0025cb  "}ul.lst-kix_xzuz3l6f7udk-8{list-style-type:none}.lst-kix_li672u8kdi5h-8>li:before{content:"\0025a0  "}ul.lst-kix_li672u8kdi5h-8{list-style-type:none}.lst-kix_ub52na38npk5-1>li:before{content:"\0025cb  "}ul.lst-kix_li672u8kdi5h-7{list-style-type:none}ul.lst-kix_li672u8kdi5h-6{list-style-type:none}ul.lst-kix_li672u8kdi5h-5{list-style-type:none}ul.lst-kix_xzuz3l6f7udk-3{list-style-type:none}.lst-kix_ub52na38npk5-0>li:before{content:"\0025cf  "}ul.lst-kix_xzuz3l6f7udk-2{list-style-type:none}ul.lst-kix_xzuz3l6f7udk-1{list-style-type:none}ul.lst-kix_xzuz3l6f7udk-0{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c23{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:14pt;font-family:"Arial";font-style:normal}.c2{margin-left:36pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c21{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c13{color:#6fa8dc;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center;height:11pt}.c11{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c5{font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c20{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c9{text-decoration-skip-ink:none;font-size:14pt;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c19{text-decoration-skip-ink:none;font-size:13pt;-webkit-text-decoration-skip:none;text-decoration:underline}.c16{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c18{color:inherit;text-decoration:inherit}.c15{padding:0;margin:0}.c7{margin-left:72pt;text-indent:36pt}.c6{color:#4a86e8}.c24{color:#0000ff}.c8{margin-left:72pt}.c12{text-indent:36pt}.c22{color:#e69138}.c0{color:#ff0000}.c10{padding-left:0pt}.c17{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c16"><p class="c20"><span class="c21">Protocol Specs</span></p><p class="c20"><span class="c11">Group 6</span></p><p class="c14"><span class="c11"></span></p><p class="c14"><span class="c11"></span></p><p class="c4"><span class="c23">Introduction</span></p><p class="c4"><span>We will use Google protocol buffer for communication between amazon and UPS. Each inter-communication MUST involve </span><span>three-way handshake</span></p><p class="c3"><span class="c1"></span></p><p class="c4"><span class="c1">Proto File : https://docs.google.com/document/d/1ojRiWJbVJT8mV-BISXTPmCIaIo_Or10GgmzjR7krVVs/edit?usp=sharing</span></p><p class="c3"><span class="c1"></span></p><p class="c4"><span class="c19">RFC</span></p><ul class="c15 lst-kix_li672u8kdi5h-0 start"><li class="c2 c10 li-bullet-0"><span>Amazon </span><span class="c6">MUST </span><span>open a listening socket </span><span class="c6">at port 6666 </span><span>and UPS </span><span class="c6">MUST</span><span>&nbsp;connect to that Socket. UPS </span><span class="c6">MUST connect to the simulator to create a new world and</span><span class="c1">&nbsp;MUST then send World ID to let amazon know the world it refers to, then Amazon MUST send a response indicating whether the connection to that world is Success or Failure back to UPS:</span></li></ul><p class="c2"><span class="c1">Request:</span></p><p class="c2 c12"><span class="c1">message UAConnect{</span></p><p class="c4 c7"><span class="c1">required int64 worldid = 1;</span></p><p class="c4 c7"><span class="c1">required int64 seqnum = 2;</span></p><p class="c2 c12"><span class="c1">};</span></p><p class="c2"><span class="c1">Response:</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message AUConnected{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required bool world_connection_status = 1;</span></p><p class="c4 c7"><span class="c1">required int64 seqnum = 2;</span></p><p class="c2 c12"><span class="c1">};</span></p><p class="c3"><span class="c1"></span></p><ul class="c15 lst-kix_98fv1hj56za-0 start"><li class="c2 c10 li-bullet-0"><span class="c6">After every purchase, </span><span>Amazon SHOULD notify UPS about the warehouse to pickup packages and </span><span class="c24">MUST</span><span>&nbsp;send Warehouse ID </span><span class="c6">and a single package info</span><span>. </span><span class="c6">Note that UPS does not need to know the warehouse location for pickup, this detail is handled by the world simulator and is hidden from the UPS side. Furthermore UPS should ignore any subsequent AURequestForPickup message with same warehouse id if it detects there is already a truck en route to that warehouse, and collect that packageInfo with the same warehouse id (to be sent back with UAReadyForPickup)</span><span class="c1">:</span></li></ul><p class="c4 c8"><span class="c5 c0">message AUPackageInfo{</span></p><p class="c4 c7"><span class="c5 c0">required int64 packageid = 1;</span></p><p class="c4 c7"><span class="c5 c0">optional string upsAccount = 2;</span></p><p class="c4 c7"><span class="c5 c0">required string description = 3;</span></p><p class="c2"><span class="c0 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 destx = 4;</span></p><p class="c2"><span class="c5 c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 desty = 5;</span></p><p class="c4 c7"><span class="c5 c0">required AUDeliveryLocation packagelocation = 2;</span></p><p class="c4 c8"><span class="c1">};</span></p><p class="c3"><span class="c1"></span></p><p class="c2 c17"><span class="c1"></span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c1">message AURequestPickup{</span></p><p class="c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c6">required AUPack pack = 1;</span></p><p class="c2"><span class="c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">required int64 seqnum = 2;</span></p><p class="c2 c12"><span class="c1">};</span></p><p class="c2 c12 c17"><span class="c1"></span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c6">message AUPack{</span></p><p class="c4 c12"><span class="c5 c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required Apack package = 1;</span></p><p class="c4 c12"><span class="c5 c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optional string upsAccount = 2;</span></p><p class="c4 c12"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c6">required int32 destx = 3;</span></p><p class="c2"><span class="c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 desty = 4;</span></p><p class="c4 c12"><span class="c1">};</span></p><p class="c2 c12 c17"><span class="c1"></span></p><ul class="c15 lst-kix_ub52na38npk5-0 start"><li class="c2 c10 li-bullet-0"><span class="c5 c6">For each packageInfo, the UPS MUST include one UAIsAssociated message in the response, this is sent inside the UACommand together with the acks for AURequestForPickup:</span></li></ul><p class="c2 c12"><span class="c5 c6">Message UAIsAssociated{</span></p><p class="c2 c12"><span class="c5 c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Required int64 packageid = 1;</span></p><p class="c2 c12"><span class="c5 c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Required bool checkResult = 2;</span></p><p class="c2 c12"><span class="c6">};</span></p><p class="c3"><span class="c1"></span></p><ul class="c15 lst-kix_xzuz3l6f7udk-0 start"><li class="c2 c10 li-bullet-0"><span>UPS SHOULD notify Amazon that it has arrived at the warehouse and is ready to pick up the package and MUST </span><span>send the warehouse ID and the TruckID of the truck assigned, </span><span class="c6">UPS should also include every packages that is ready to be loaded in that warehouse according to packageinfo sent with AUReadyForPickup</span><span>.</span></li></ul><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message UAReadyForPickup{</span></p><p class="c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>required int32 </span><span>whnum</span><span class="c1">&nbsp;= 1;</span></p><p class="c4 c7"><span class="c6">repeated int64 packageid = 2;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 truckid = 3;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int64 seqnum = 4;</span></p><p class="c2 c12"><span class="c1">};</span></p><p class="c3"><span class="c1"></span></p><ul class="c15 lst-kix_ub52na38npk5-0"><li class="c2 c10 li-bullet-0"><span>Amazon MUST notify UPS that all the packages have been loaded to the truck and for each package in the truck Amazon MUST send </span><span>related information</span><span>&nbsp;: </span><span class="c6">For each package, Amazon MUST include packageid, description, location for delivery; additionally, Amazon MAY include the UPS username should the customer chooses to relate the purchase with his UPS account</span><span class="c1">- Package delivery address, WarehouseID.</span></li></ul><p class="c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c0">message AUDeliveryLocation{</span></p><p class="c2"><span class="c5 c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int64 packageid = 1;</span></p><p class="c2"><span class="c5 c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 x = 2;</span></p><p class="c2"><span class="c5 c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 y = 3;</span></p><p class="c2 c12"><span class="c0">};</span></p><p class="c3 c8"><span class="c1"></span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message AUReadyForDelivery{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int32 truckid = 1;</span></p><p class="c2"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c0">repeated AUPackageInfo amazonpackageInfo = 2;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int64 seqnum = 2;</span></p><p class="c2 c12"><span>};</span></p><p class="c3"><span class="c1"></span></p><ul class="c15 lst-kix_ub52na38npk5-0"><li class="c2 c10 li-bullet-0"><span class="c1">UPS MUST notify Amazon about the status of the packages whenever the package is delivered and MUST send related PackageID.</span></li></ul><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message UAPackageDelivered{</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int64 packageid = 1;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int64 seqnum = 2;</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</span></p><p class="c2 c17"><span class="c1"></span></p><p class="c4"><span class="c1">Command Wrapper:</span></p><p class="c4"><span class="c1">All the above message(except UAConnect) needs to be send in this form</span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message UACommand{</span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeated UAReadyForPickup pickupReady = 1;</span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeated UAPackageDelivered packageDelivered =2;</span></p><p class="c4"><span class="c5 c6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeated UAIsAssociated linkResult =3;</span></p><p class="c4 c7"><span class="c1">repeated Err error = 4;</span></p><p class="c4 c7"><span class="c1">repeated int64 acks = 5;</span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</span></p><p class="c3"><span class="c1"></span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message AUCommand{</span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeated AURequestPickup pickupRequest = 1;</span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeated AUReadyForDelivery deliveryReady =2;</span></p><p class="c4 c7"><span class="c1">repeated Err error = 3;</span></p><p class="c4 c7"><span class="c1">repeated int64 acks = 4;</span></p><p class="c4 c7"><span class="c1">};</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c4 c8"><span class="c1">message Err{</span></p><p class="c4 c8"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required string errorInfo = 1;</span></p><p class="c4 c8"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c6">required int64 originseqnum = 2;</span></p><p class="c4 c8"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;required int64 errorSeqnum = 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c4 c8"><span class="c1">};</span></p><p class="c4"><span>Note that packageID and seqnum must be UNIQUE at all times!</span></p><p class="c3"><span class="c11"></span></p><p class="c3"><span class="c11"></span></p><p class="c3"><span class="c11"></span></p><p class="c4"><span class="c11">Lucid Chart</span></p><p class="c4"><span class="c11">Page 1 : UML diagram</span></p><p class="c4"><span class="c11">Page 2 : Stade machine</span></p><p class="c3"><span class="c11"></span></p><p class="c4"><span class="c9"><a class="c18" href="https://www.google.com/url?q=https://lucid.app/lucidchart/d2e239e6-d711-436d-ac2a-eac336c1608f/edit?invitationId%3Dinv_d46b2712-7c5d-461f-b2d3-b3929d91aefa&amp;sa=D&amp;source=editors&amp;ust=1650844237179864&amp;usg=AOvVaw0ule7JrrBOLejVySEXNATZ">https://lucid.app/lucidchart/d2e239e6-d711-436d-ac2a-eac336c1608f/edit?invitationId=inv_d46b2712-7c5d-461f-b2d3-b3929d91aefa</a></span></p><p class="c3"><span class="c11"></span></p><p class="c3"><span class="c13"></span></p></body></html>